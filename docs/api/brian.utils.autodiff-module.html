<?xml version="1.0" encoding="ascii"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
          "DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
  <title>brian.utils.autodiff</title>
  <link rel="stylesheet" href="epydoc.css" type="text/css" />
  <script type="text/javascript" src="epydoc.js"></script>
</head>

<body bgcolor="white" text="black" link="blue" vlink="#204080"
      alink="#204080">
<!-- ==================== NAVIGATION BAR ==================== -->
<table class="navbar" border="0" width="100%" cellpadding="0"
       bgcolor="#a0c0ff" cellspacing="0">
  <tr valign="middle">
  <!-- Home link -->
      <th>&nbsp;&nbsp;&nbsp;<a
        href="brian-module.html">Home</a>&nbsp;&nbsp;&nbsp;</th>

  <!-- Tree link -->
      <th>&nbsp;&nbsp;&nbsp;<a
        href="module-tree.html">Trees</a>&nbsp;&nbsp;&nbsp;</th>

  <!-- Index link -->
      <th>&nbsp;&nbsp;&nbsp;<a
        href="identifier-index.html">Indices</a>&nbsp;&nbsp;&nbsp;</th>

  <!-- Help link -->
      <th>&nbsp;&nbsp;&nbsp;<a
        href="help.html">Help</a>&nbsp;&nbsp;&nbsp;</th>

      <th class="navbar" width="100%"></th>
  </tr>
</table>
<table width="100%" cellpadding="0" cellspacing="0">
  <tr valign="top">
    <td width="100%">
      <span class="breadcrumbs">
        <a href="brian-module.html">Package&nbsp;brian</a> ::
        <a href="brian.utils-module.html">Package&nbsp;utils</a> ::
        Module&nbsp;autodiff
      </span>
    </td>
    <td>
      <table cellpadding="0" cellspacing="0">
        <!-- hide/show private -->
      </table>
    </td>
  </tr>
</table>
<!-- ==================== MODULE DESCRIPTION ==================== -->
<h1 class="epydoc">Module autodiff</h1><br /><br />
<pre class="literalblock">

Automatic differentiation.
R. Brette
---------
Method: forward accumulation by operator overloading.
TODO:
* make it work with vectors (i.e., jacobian matrix)
* iadd, etc.
* NonDifferentiableException and maybe use this on conditions (when cmp=0)
* Differential operators: Laplacian...
* Interfacing with Scipy optimization algorithms.
* Check lecture notes on AD: http://www-sop.inria.fr/tropics/tropics/support_cours_d_a.pdf

The differentiate function can be used to calculate the
(possibly higher-order) partial derivatives of a function
with respect to any variable (e.g. d2 f/dx dy).

It is working with scalar variables for the moment, but
there is some limited functionality for vectors, i.e., the
differentiation should work for functions with vectorial arguments
if only scalar operations are used, e.g.:
def f(x):
    y=0
    for xi in x:
        y+=xi*xi
    return sqrt(y)
Then differentiate(f,array([1,2,3,4])) returns the gradient of f
at point x=array([1,2,3,4]), as a sparse matrix (lil_matrix type).

If several partial derivatives of the same function need to be
calculated, it is better to use the lower level object Differentiable.
Example:
y=f(Differentiable('x',3),Differentiable('y',2))
will return a Differentiable object with
y.val=f(3,2)
and y.diff={'x': df/dx(3,2), 'y': df/dy(3,2)}

Also implemented:
* Taylor series
* Gradient
* Hessian
* Works with units

</pre><br /><br />

<!-- ==================== CLASSES ==================== -->
<a name="section-Classes"></a>
<table class="summary" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr bgcolor="#70b0f0" class="table-header">
  <td align="left" colspan="2" class="table-header">
    <span class="table-header">Classes</span></td>
</tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
        <a href="brian.utils.autodiff.Differentiable-class.html" class="summary-name">Differentiable</a><br />
      A differentiable variable.
    </td>
  </tr>
</table>
<!-- ==================== FUNCTIONS ==================== -->
<a name="section-Functions"></a>
<table class="summary" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr bgcolor="#70b0f0" class="table-header">
  <td align="left" colspan="2" class="table-header">
    <span class="table-header">Functions</span></td>
</tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="brian.utils.autodiff-module.html#differentiate" class="summary-sig-name">differentiate</a>(<span class="summary-sig-arg">f</span>,
        <span class="summary-sig-arg">x</span>,
        <span class="summary-sig-arg">order</span>=<span class="summary-sig-default">1</span>)</span><br />
      Calculate the derivative of f at point x.</td>
          <td align="right" valign="top">
            
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a name="taylor_series"></a><span class="summary-sig-name">taylor_series</span>(<span class="summary-sig-arg">f</span>,
        <span class="summary-sig-arg">x</span>,
        <span class="summary-sig-arg">order</span>=<span class="summary-sig-default">1</span>)</span><br />
      Returns the list of coefficients of the Taylor Series of f
at x (scalar).</td>
          <td align="right" valign="top">
            
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="brian.utils.autodiff-module.html#gradient" class="summary-sig-name">gradient</a>(<span class="summary-sig-arg">f</span>,
        <span class="summary-sig-arg">x</span>)</span><br />
      Gradient of f at x (= tuple).</td>
          <td align="right" valign="top">
            
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="brian.utils.autodiff-module.html#hessian" class="summary-sig-name">hessian</a>(<span class="summary-sig-arg">f</span>,
        <span class="summary-sig-arg">x</span>)</span><br />
      Hessian of f at x (= tuple).</td>
          <td align="right" valign="top">
            
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
</table>
<!-- ==================== FUNCTION DETAILS ==================== -->
<a name="section-FunctionDetails"></a>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr bgcolor="#70b0f0" class="table-header">
  <td align="left" colspan="2" class="table-header">
    <span class="table-header">Function Details</span></td>
</tr>
</table>
<a name="differentiate"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">differentiate</span>(<span class="sig-arg">f</span>,
        <span class="sig-arg">x</span>,
        <span class="sig-arg">order</span>=<span class="sig-default">1</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    >&nbsp;
    </td>
  </table>
  
  <pre class="literalblock">

Calculate the derivative of f at point x.
Higher-order derivatives are possible.
Ex.: differentiate(lambda x:3*x*x+2,x=2,order=2)
(Returns: 6.0)

Partial derivatives:
1) Give a tuple with the order.
Ex.: differentiate(lambda x,y:x*y+2*y+1,x=(1,2),order=(0,1))
(Returns: 3.0 (partial derivative d/dy) )
2) Give a dictionnary with the order:
Ex.: differentiate(lambda x,y:x*y+2*y+1,x=(1,2),order={'y':1})

</pre>
  <dl class="fields">
  </dl>
</td></tr></table>
</div>
<a name="gradient"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">gradient</span>(<span class="sig-arg">f</span>,
        <span class="sig-arg">x</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    >&nbsp;
    </td>
  </table>
  
  <pre class="literalblock">

Gradient of f at x (= tuple).
Result = list.

</pre>
  <dl class="fields">
  </dl>
</td></tr></table>
</div>
<a name="hessian"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">hessian</span>(<span class="sig-arg">f</span>,
        <span class="sig-arg">x</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    >&nbsp;
    </td>
  </table>
  
  <pre class="literalblock">

Hessian of f at x (= tuple).
Result = array.
N.B.: not working with vectors.

</pre>
  <dl class="fields">
  </dl>
</td></tr></table>
</div>
<br />
<!-- ==================== NAVIGATION BAR ==================== -->
<table class="navbar" border="0" width="100%" cellpadding="0"
       bgcolor="#a0c0ff" cellspacing="0">
  <tr valign="middle">
  <!-- Home link -->
      <th>&nbsp;&nbsp;&nbsp;<a
        href="brian-module.html">Home</a>&nbsp;&nbsp;&nbsp;</th>

  <!-- Tree link -->
      <th>&nbsp;&nbsp;&nbsp;<a
        href="module-tree.html">Trees</a>&nbsp;&nbsp;&nbsp;</th>

  <!-- Index link -->
      <th>&nbsp;&nbsp;&nbsp;<a
        href="identifier-index.html">Indices</a>&nbsp;&nbsp;&nbsp;</th>

  <!-- Help link -->
      <th>&nbsp;&nbsp;&nbsp;<a
        href="help.html">Help</a>&nbsp;&nbsp;&nbsp;</th>

      <th class="navbar" width="100%"></th>
  </tr>
</table>
<table border="0" cellpadding="0" cellspacing="0" width="100%%">
  <tr>
    <td align="left" class="footer">
    Generated by Epydoc 3.0beta1 on Wed Apr 23 18:23:22 2008
    </td>
    <td align="right" class="footer">
      <a href="http://epydoc.sourceforge.net">http://epydoc.sourceforge.net</a>
    </td>
  </tr>
</table>

<script type="text/javascript">
  <!--
  // Private objects are initially displayed (because if
  // javascript is turned off then we want them to be
  // visible); but by default, we want to hide them.  So hide
  // them unless we have a cookie that says to show them.
  checkCookie()
  // -->
</script>
  
</body>
</html>
